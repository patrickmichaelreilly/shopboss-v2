@{
    Layout = null;
}

<!DOCTYPE html>
<html>
<head>
    <title>Smartsheet Connection Successful</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body class="bg-light">
    <div class="container d-flex justify-content-center align-items-center min-vh-100">
        <div class="card text-center" style="max-width: 400px;">
            <div class="card-body p-4">
                <div class="text-success mb-3">
                    <i class="fas fa-check-circle" style="font-size: 3rem;"></i>
                </div>
                <h4 class="card-title text-success">Connected!</h4>
                <p class="card-text">
                    Successfully connected to Smartsheet. 
                    You can now close this window.
                </p>
                <button type="button" class="btn btn-success" onclick="window.close()">
                    Close Window
                </button>
            </div>
        </div>
    </div>

    <script src="https://kit.fontawesome.com/your-fontawesome-kit.js" crossorigin="anonymous"></script>
    <script>
        // Auto-close the popup after 3 seconds if it doesn't close automatically
                setTimeout(() => {
                    if (window.opener) {
                        // Notify parent window of successful authentication (same-origin)
                        window.opener.postMessage({ type: 'smartsheet-auth-success' }, window.location.origin);
                    }
                    window.close();
                }, 3000);
    </script>
</body>
</html>
